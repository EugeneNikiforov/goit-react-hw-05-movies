"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[284],{284:function(e,t,r){r.r(t),r.d(t,{default:function(){return N}});var a=r(433),s=r(439),n=r(87),c=r(689),o=r(791),i=r(685),l=r(881),u=r(73),m=r(494),h={container:"SearchForm_container__ymro4",search:"SearchForm_search__QdluL"},_=r(184);function f(e){var t=e.newSearch,r=e.newPage,a=(0,n.lr)(),c=(0,s.Z)(a,2),o=c[0],i=c[1];console.log(o);return(0,_.jsx)("div",{children:(0,_.jsxs)("form",{className:h.container,onSubmit:function(e){e.preventDefault();var a=e.currentTarget.elements.query.value.toLowerCase();""!==a.trim()?(i({query:a}),t([]),r(1)):u.ZP.error("Please enter some value!")},children:[(0,_.jsx)("input",{type:"text",name:"query",autoComplete:"off",placeholder:"Search films"}),(0,_.jsx)("button",{className:h.search,type:"submit",children:(0,_.jsx)(m.Yfv,{className:h.button_search})})]})})}var v=r(679),d="MoviesPage_list__y5rBz",g="MoviesPage_filmItem__8pblL",p="MoviesPage_titleFilm__KRTx4",x="MoviesPage_itemsLink__6dFOf",j="MoviesPage_filmImages__IeeGS",P="MoviesPage_loadMore__8OO6a",b="MoviesPage_buttonDiv__c5GVd";function N(){var e=(0,c.TH)(),t=o.useState([]),r=(0,s.Z)(t,2),m=r[0],h=r[1],N=o.useState(!1),w=(0,s.Z)(N,2),y=w[0],S=w[1],Z=o.useState(1),k=(0,s.Z)(Z,2),M=k[0],C=k[1],q=e.search.slice(1);return o.useEffect((function(){q&&(S(!0),(0,i.YJ)(q,M).then((function(e){var t=e.results;if(0===t.length)return u.ZP.error("There is no result for your reqest!");h((function(e){return[].concat((0,a.Z)(e),(0,a.Z)(t))}))})).catch((function(e){console.log(e)})).finally(S(!1)))}),[q,M]),(0,_.jsxs)("div",{children:[y&&(0,_.jsx)(l.Z,{}),(0,_.jsx)(f,{newSearch:h,newPage:C}),(0,_.jsx)("ul",{className:d,children:m&&0!==m.length&&m.map((function(t){var r=t.id,a=t.original_title,s=t.poster_path;return(0,_.jsx)("li",{className:g,children:(0,_.jsxs)(n.rU,{to:"/movies/".concat(r),state:{from:e},className:x,children:[(0,_.jsx)("img",{className:j,src:s?"https://image.tmdb.org/t/p/w500".concat(s):"".concat(v),alt:a}),(0,_.jsx)("h3",{className:p,children:a}),";"]})},r)}))}),0!==m.length&&(0,_.jsx)("div",{className:b,children:(0,_.jsx)("button",{className:P,type:"button",onClick:function(){C((function(e){return e+1}))},children:"Next page"})})]})}}}]);
//# sourceMappingURL=284.1fc1252d.chunk.js.map